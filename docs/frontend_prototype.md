# 集中供料系统前端原型设计指南

## 1. 设计概述

本指南基于《集中供料系统（UNET 管理系统）软件开发需求文档》与系统设计蓝图，定义浏览器端的界面原型、交互流程与视觉规范，为后续的高保真设计与前端实现提供统一参考。原型旨在：

* 覆盖登录、监控、调度、报警、数据分析、权限管理等核心业务场景。
* 构建兼顾桌面端与大屏展示的工业风视觉体验，提升数据可读性与操作效率。
* 指导设计研发团队在组件库、响应式布局、交互细节上的统一实现，降低沟通成本。

> 建议在 Figma / Axure / Sketch 等设计工具中按本指南输出低保真和高保真原型，再交付给开发团队。

---

## 2. 视觉与品牌基调

| 设计要素 | 规范说明 | 参考素材 |
|----------|----------|----------|
| 色彩体系 | 以深海军蓝 (#0B1E3C) + 亮青 (#2CD1C9) 为主色，配合工业灰 (#1F2A3C)、警告橙 (#FFAA00)、危险红 (#FF5F5F)、成功绿 (#38C172)。背景可采用 95% 深蓝渐变；卡片白底或浅灰 (#F5F7FA)。 | 参考“工业互联网”、“能源控制面板”风格；可引用 Ant Design Dark Theme、Refinery Dashboard 视觉素材。 |
| 字体 | 中文推荐「思源黑体 / Source Han Sans」，英文字体搭配「Inter / Roboto」。标题字重 600，正文 400，数据高亮采用 500/600。 | Google Fonts、阿里巴巴普惠体作为备选。 |
| 图标 | 使用线性矢量图标，保持 24px 网格。建议基于 IconPark / Remix Icon 自定义填色。报警、网络、任务等关键图标提供双色版本。 | IconPark、Remix Icon、Carbon Icons。 |
| 数据可视化 | 采用折线、面积、条形、环形、雷达、桑基图等。强调实时状态可用发光效果。统一使用 ECharts / AntV G2 的深色主题，重点数据使用亮青、橙、红。 | AntV 视觉语言、ECharts Nightingale 示例。 |
| 布局栅格 | 桌面端宽度 1440px 设计稿，采用 12 列栅格（列宽 92px、间距 24px）。响应式断点：≥1200px（桌面）、768–1199px（平板）、<768px（移动/嵌入式控制屏）。 | 参考 Bootstrap 5 / Ant Design Layout。 |
| 背景纹理 | 可叠加半透明几何线框、粒子动态背景（CSS 动效）。主视觉可放置设备线框图或工厂俯视图。 | Dribbble 搜索 “Industrial Dashboard”、“Factory Control UI”。 |

### 2.1 UI 状态规范

* **主题模式**：默认深色；保留浅色模式切换（淡灰背景、主色 #1456E2）。
* **表单状态**：常规、悬浮、焦点、禁用、错误分别使用边框（1px 实线）与阴影区分。
* **按钮**：主按钮填充亮青、文字白；次按钮使用透明背景 + 边框；危险动作按钮使用红色填充。
* **标签/状态徽章**：以亮青（运行）、橙（告警）、红（故障）、灰（离线）、蓝（维护）表示。
* **动效节奏**：悬停 120ms、过渡 240ms、加载骨架屏 800ms。

---

## 3. 全局组件库规划

### 3.1 导航与布局

* **顶栏（高度 64px）**：包含品牌 Logo、系统名称、环境标识（生产/测试）、全局搜索、通知、用户头像下拉。
* **侧边栏（宽度 264px）**：采用可折叠手风琴导航，按业务模块分组（总览、监控、任务、报警、分析、用户、集成、审计、设置）。选中态使用亮青指示条。
* **面包屑**：位于内容区顶部，展示当前层级与快捷操作（刷新、导出、过滤）。
* **页脚**：显示版权、版本号、接口状态指示灯（前端-后端-OPC UA）。

### 3.2 数据展示组件

| 组件 | 描述 | 交互要点 |
|------|------|----------|
| KPI 卡片 | 4 列对齐，展示任务总数、在线设备、今日报警、产量等。支持环比、同比小标签。 | 悬停显示详细说明；告警 KPI 采用呼吸灯提示。 |
| 状态网格 | 以 3×3 网格展示 9 台 Modbus 设备状态，支持颜色编码与迷你图。 | 点击进入设备详情侧滑面板。 |
| 地图/拓扑图 | 展示料斗、管路连接关系，节点状态采用圆形/矩形标识。 | 支持缩放、拖拽、点击节点弹出详情。 |
| 趋势图表 | 折线/面积图展示温度、料位、阀门开合角度等历史曲线。 | 提供区间选择、阈值线、高亮异常点。 |
| 表格 | 采用紧凑型表格、固定表头、行间距 40px。支持多选、排序、过滤、列定制。 | 双击进入编辑模式，行悬停显示操作按钮。 |
| 时间轴 | 展示任务或报警事件流，按时间排序。 | 支持标签过滤、快速标记已读。 |

### 3.3 表单与操作组件

* **表单容器**：两列布局（宽度 360px/360px），可折叠分组。必填项标红星，字段说明用 Tooltip。
* **过滤面板**：右侧浮层，可保存过滤方案。字段包含时间范围、设备、物料、优先级、状态等。
* **步骤条**：任务创建流程采用 4 步（选择物料 → 指定设备 → 调度策略 → 确认）。
* **对话框/抽屉**：用于任务详情、报警确认、设备参数调试。宽度 640px，顶部提供状态标签与快速操作。
* **通知/消息中心**：顶部铃铛点击展开列表，支持一键标记已读、跳转报警详情。

### 3.4 状态反馈

* **骨架屏**：用于实时数据加载；栅格占位配合渐变动画。
* **空状态**：提供操作指引与按钮（如“暂无任务，去创建”）。
* **错误提示**：页面级错误使用插画 + 重试按钮；组件级错误采用红色提示条。
* **成功提示**：Toast/消息条于右上角显示，自动 3 秒关闭。

---

## 4. 页面原型详解

### 4.1 登录与认证

**目的**：保障安全登录、快速切换环境。

**布局结构**：

* 左侧 55%：品牌视觉、系统介绍、轮播展示关键能力（实时监控、任务调度、OPC 集成）。背景使用工业线框插画。
* 右侧 45%：登录表单卡片（宽 420px），包含账号、密码、验证码/二步验证入口；支持「记住我」「忘记密码」。
* 底部提供「切换至移动登录」「查看帮助文档」链接。

**交互细节**：

1. 输入校验即时提示；错误信息放于字段下方。
2. 支持扫码登录（集成企业微信）与硬件令牌备用码。
3. 登录成功后按角色跳转至对应首页（管理员 → 总览仪表盘，操作员 → 监控看板，查看者 → 监控数据一览）。
4. 夜间模式背景切换为深色渐变，文案/图标切换为高对比度。

**移动断点**：表单居中，Logo 上移；背景插画隐藏。

### 4.2 首屏总览仪表盘

**信息层级**：

1. 顶部 KPI 区（4–6 个核心指标）。
2. 中部左右分栏：左侧实时供料拓扑，右侧任务进度与报警统计。
3. 底部 3 列卡片：任务队列、设备运行排行、系统消息。

**关键组件**：

* 供料拓扑：展示料斗→管路→机台关系，节点颜色代表状态，线条流动动效模拟物料流向。
* 任务进度：使用水平条形进度与优先级标签，支持拖拽调整顺序。
* 报警统计：环形图 + 柱状图组合展示 24h 报警分布与严重度。

**交互**：

* 悬停拓扑节点弹出实时数据卡片（料位、温度、最近报警）。
* KPI 卡片点击跳转对应页面（任务 → 调度中心、报警 → 报警中心）。
* 支持时间维度切换（近 2 小时 / 今日 / 本周）。

### 4.3 实时监控大屏

**场景**：操作员重点关注设备实时状态与报警。

**布局**：

* 左侧 70%：九宫格设备卡片，每个卡片包含设备名称、状态灯、关键点位数值、趋势迷你图。
* 右侧 30%：
  * 上部（40%）：报警队列（可折叠），支持按严重度排序。
  * 中部（30%）：通讯状态面板，展示 Modbus 连接质量、延迟、重试次数。
  * 下部（30%）：操作日志快照、指令下发按钮。

**交互与功能**：

* 点击设备卡片打开侧滑详情：
  * Tab1 实时数据（列表 + 小图表）。
  * Tab2 历史趋势（可选时间范围，支持导出 CSV）。
  * Tab3 控制面板（权限校验后显示，含启停、阀门控制、写入寄存器）。
* 支持全屏模式（适用于大屏展示），自动适配 1920×1080。
* 实时数据刷新 5 秒；若延迟超阈值，卡片右上角出现黄色菱形提示。

### 4.4 任务调度与执行中心

**页面划分**：

1. 顶部过滤区：时间、任务来源、优先级、设备、状态。
2. 主体双栏：
   * 左侧任务池（卡片视图/看板视图切换）——按状态列出待执行、执行中、已完成、异常。
   * 右侧任务详情抽屉：展示任务基本信息、执行轨迹、相关报警、人工干预记录。
3. 底部时间轴：以甘特条形式展示任务计划与实际耗时。

**关键交互**：

* 拖拽任务卡片可调整优先级或重新分配设备；提供冲突提示。
* 任务详情支持添加备注、上传附件（质检报告）。
* 提供「创建任务」按钮，弹出 4 步流程向导：
  1. 选择物料与数量。
  2. 指定目标设备、备用设备。
  3. 调度策略（立即、预约、条件触发）。
  4. 确认摘要与安全校验。
* 批量操作：多选任务后支持暂停、撤回、导出。

### 4.5 报警中心

**目标**：快速定位、确认与追踪报警。

**模块结构**：

* 左侧过滤面板：严重度、设备、报警类型、确认状态、时间范围。
* 主列表：表格展示报警编号、等级、描述、起始时间、持续时长、处理人。
* 右侧分析面板：
  * 报警详情卡片（含波形、关联任务）。
  * 根因建议（基于规则/AI）。
  * 操作按钮：确认、指派、关闭。

**附加功能**：

* 热力图：展示设备-时间的报警分布。
* 批量确认：多选后批量操作，并记录审计日志。
* 告警推送设置：顶部 Tab，用于配置订阅通道（邮件、短信、Webhook）。

### 4.6 历史数据与报表

**布局**：

* 上部筛选区：时间范围（快捷选项）、设备、物料、指标类型。
* 中部多图表布局：
  * 左：折线趋势（支持叠加多设备）。
  * 中：柱状/堆叠图展示产量或能耗。
  * 右：雷达图评估设备健康度、饱和度。
* 下部：数据表格，可分页、导出。

**交互**：

* 图表区域支持框选缩放、导出 PNG/CSV。
* 保存分析视图：允许用户保存自定义看板并分享给团队。

### 4.7 用户与权限管理

**页面元素**：

* 顶部统计卡片：用户总数、角色数量、权限组数量。
* 主表格：用户列表（账号、角色、状态、最后登录）。
* 侧边抽屉：编辑用户资料、分配角色、重置密码、启用 2FA。
* 角色-权限矩阵：二维表格展示权限颗粒度（菜单访问、接口操作、设备控制）。
* 审批流程设置：配置高危操作需要的多级审批链。

**交互要点**：

* 批量导入/导出用户（CSV 模板）。
* 权限预览：选择角色后在右侧预览可访问的菜单与操作按钮。
* 安全日志：展示最近 20 条登录失败记录与地理位置。

### 4.8 集成中心（API & OPC UA）

**目的**：统一管理对外接口、连接状态。

**内容**：

* 接口卡片：展示 REST API（接口 1/5/6 等）的调用地址、请求示例、状态。
* OPC UA 节点浏览器：树状结构展示地址空间，可搜索节点、查看属性。
* 订阅管理：列表展示第三方订阅（接口 4），包括回调地址、订阅状态、最近触发时间。
* 测试工具：内嵌 Swagger UI / Postman Collection 下载、OPC UA Endpoint 诊断（延迟、订阅数量）。
* Webhook 日志：卡片展示回调响应码、耗时、失败重试次数。

### 4.9 系统审计与设置

**模块**：

* 审计日志时间线：支持按用户、模块、结果过滤，提供 JSON 详情弹窗。
* 系统参数：配置 Modbus 轮询周期、OPC UA 安全策略、备份计划。
* 版本管理：展示当前版本、变更日志、升级检查按钮。
* 支持配置导入/导出（YAML/JSON），并提供校验提示。

---

## 5. 响应式与可访问性

* 桌面端为主，平板断点将侧边栏折叠为抽屉式导航；移动端显示关键监控与任务列表的精简版本。
* 关键组件（按钮、输入）触控区域 ≥ 44px。
* 色彩对比符合 WCAG AA（对比度 ≥ 4.5:1），提供文本缩放与键盘导航支持。
* 语义化标签（ARIA）标注重要区域，如警报列表、实时数据表格。
* 动效提供「减少动效」开关，兼顾敏感用户。

---

## 6. 设计到开发的交付清单

1. **页面流程图**：用户从登录到任务执行、报警处理的主流程线框。
2. **低保真线框**：每个页面的线框图（灰度稿），标注栅格与组件结构。
3. **高保真视觉稿**：深色/浅色主题，含真实文案、图表示例、状态演示。
4. **组件规范表**：列出按钮、输入框、标签、卡片、表格、图表的样式与交互状态。
5. **交互说明**：使用原型工具的热点交互，描述状态切换、数据刷新节奏、权限控制界面表现。
6. **设计资产包**：图标 SVG、Illustration、背景纹理、颜色变量（CSS/Design Token）。
7. **开发对接会议记录**：确认接口数据结构、占位符、骨架屏方案、异常处理规则。

---

## 7. 推荐实施步骤

1. **信息架构确认**：与业务团队复核页面导航、模块分布、角色权限。
2. **线框评审**：输出线框后邀请产品、运营、技术评审，确保布局满足流程需求。
3. **视觉深化**：确定主视觉与组件皮肤，制作主题样例（深色 + 浅色）。
4. **交互原型制作**：在 Figma/Axure 中实现关键路径（登录 → 仪表盘 → 监控 → 报警处理 → 任务调整）。
5. **前端组件库映射**：与前端团队对照 Ant Design / Element Plus 等组件库，列出自定义需求。
6. **设计验收**：走查交互细节、无障碍、响应式表现，形成验收清单。
7. **开发支持**：设计师在开发阶段提供切图、标注、样式变量，并参与版本验收。

---

## 8. 附录：素材参考链接

* 工业控制面板视觉灵感：
  * [Dribbble - Industrial Monitoring Dashboard](https://dribbble.com/tags/industrial_dashboard)
  * [Behance - Smart Factory Control UI](https://www.behance.net/search/projects?search=smart%20factory%20dashboard)
* 组件库主题：
  * [Ant Design Pro Dark Theme](https://pro.ant.design/)
  * [ECharts Nightingale Theme](https://echarts.apache.org/examples/zh/index.html)
* 插画与图标：
  * [Undraw 工业插画集](https://undraw.co/illustrations)
  * [IconPark 工业图标](https://iconpark.oceanengine.com/official)

> 将以上链接作为灵感参考，选取合适素材进行二次设计，确保符合公司品牌规范与版权要求。

